# ç”Ÿäº§åŒ–æ”¹è¿›æ‰§è¡Œæ¸…å•

åŸºäºè¯„ä¼°æŠ¥å‘ŠéªŒè¯ç»“æœï¼Œæœ¬æ–‡æ¡£æä¾›å¯æ‰§è¡Œçš„æ”¹è¿›ä»»åŠ¡æ¸…å•ã€‚

---

## ğŸ”´ P0 ä¼˜å…ˆçº§ä»»åŠ¡ï¼ˆå¿…é¡»å®Œæˆæ‰èƒ½è¯•è¿è¡Œï¼‰

é¢„è®¡æ—¶é—´ï¼š1-2å‘¨  
ç›®æ ‡ï¼šæ¶ˆé™¤é˜»ç¢ç”Ÿäº§çš„å…³é”®é—®é¢˜

### ä»»åŠ¡1: ä¿®å¤æ•°æ®ä¸€è‡´æ€§é—®é¢˜

**ä¼˜å…ˆçº§**: ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´**: 2å°æ—¶  
**è´Ÿè´£äºº**: å‰ç«¯å¼€å‘

- [ ] ç»Ÿä¸€ç«™ç‚¹åç§°ä¸ºåˆåŒç‰ˆæœ¬
  - [ ] æ›´æ–° `constants.tsx` ç¬¬5è¡Œ
  - [ ] æ›´æ–° `api/_lib/stops.ts` ç¬¬10è¡Œ  
  - [ ] æ›´æ–° `vercel-postgres-schema.sql` ç¬¬36è¡Œ
  - [ ] æ›´æ–° `supabase-schema.sql` ç¬¬56è¡Œ
  - [ ] æ‰§è¡Œæ•°æ®åº“è¿ç§»ï¼ˆUPDATE stops SET name=...ï¼‰

**éªŒè¯æ ‡å‡†**: æ‰€æœ‰ä½ç½®æ˜¾ç¤º "ä¸¤å²¸é‡‘èä¸­å¿ƒåœ°é“ç«™3å…¥å£"

---

### ä»»åŠ¡2: å®ç°å·¥ä½œæ—¥åˆ¤æ–­é€»è¾‘

**ä¼˜å…ˆçº§**: ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´**: 1å¤©  
**è´Ÿè´£äºº**: å…¨æ ˆå¼€å‘

#### 2.1 åˆ›å»ºå·¥å…·å‡½æ•°

- [ ] åˆ›å»º `/src/utils/dateUtils.ts`
  ```typescript
  export function isWorkday(date: Date): boolean {
    const day = date.getDay();
    // å‘¨ä¸€åˆ°å‘¨äº”
    if (day === 0 || day === 6) return false;
    
    // TODO: åç»­ä»æ•°æ®åº“è¯»å–èŠ‚å‡æ—¥é…ç½®
    const holidays = [
      '2026-01-01', // å…ƒæ—¦
      // ...
    ];
    const dateStr = date.toISOString().split('T')[0];
    return !holidays.includes(dateStr);
  }
  
  export function getNextDeparture(schedules: string[]): {
    time: string;
    countdown: string;
  } | null {
    const now = new Date();
    if (!isWorkday(now)) return null;
    
    const currentMinutes = now.getHours() * 60 + now.getMinutes();
    
    for (const time of schedules) {
      const [h, m] = time.split(':').map(Number);
      const scheduleMinutes = h * 60 + m;
      
      if (scheduleMinutes > currentMinutes) {
        const diffMin = scheduleMinutes - currentMinutes;
        const countdown = diffMin < 60 
          ? `${diffMin}åˆ†é’Ÿå`
          : `${Math.floor(diffMin/60)}å°æ—¶${diffMin%60}åˆ†é’Ÿå`;
        
        return { time, countdown };
      }
    }
    
    return null;
  }
  ```

#### 2.2 æ›´æ–°ä¹˜å®¢ç«¯ç•Œé¢

- [ ] ä¿®æ”¹ `components/PassengerView.tsx`
  - [ ] å¯¼å…¥å·¥å…·å‡½æ•°
  - [ ] æ·»åŠ éå·¥ä½œæ—¥æç¤ºUI
  - [ ] æ·»åŠ "ä¸‹ä¸€ç­"æ˜¾ç¤ºé€»è¾‘
  - [ ] éå·¥ä½œæ—¥éšè—"ç”Ÿæˆä¹˜è½¦ç "æŒ‰é’®

**ç¤ºä¾‹ä»£ç **:
```tsx
import { isWorkday, getNextDeparture } from '../utils/dateUtils';

// åœ¨ç»„ä»¶å†…
const isTodayWorkday = isWorkday(new Date());
const allSchedules = [...VEHICLE_INFO.schedule.morning, ...VEHICLE_INFO.schedule.evening];
const nextDep = isTodayWorkday ? getNextDeparture(allSchedules) : null;

// åœ¨è¿”å›çš„JSXä¸­
{!isTodayWorkday && (
  <div className="bg-yellow-50 border-2 border-yellow-300 p-4 rounded-2xl mb-4">
    <div className="flex items-center space-x-3">
      <i className="fas fa-calendar-times text-yellow-600 text-2xl"></i>
      <div>
        <p className="font-bold text-yellow-800">ä»Šæ—¥éå·¥ä½œæ—¥</p>
        <p className="text-sm text-yellow-600">ç­è½¦åœè¿ï¼Œä¸‹ä¸ªå·¥ä½œæ—¥æ¢å¤è¿è¥</p>
      </div>
    </div>
  </div>
)}

{isTodayWorkday && nextDep && (
  <div className="bg-blue-50 p-4 rounded-xl mb-4">
    <p className="text-xs text-gray-500">ä¸‹ä¸€ç­å‘è½¦</p>
    <div className="flex items-baseline space-x-2">
      <p className="text-3xl font-bold text-blue-600">{nextDep.time}</p>
      <p className="text-sm text-gray-400">{nextDep.countdown}</p>
    </div>
  </div>
)}
```

#### 2.3 æ›´æ–°å¸æœºç«¯ç•Œé¢

- [ ] ä¿®æ”¹ `components/DriverView.tsx`
  - [ ] æ˜¾ç¤ºä»Šæ—¥ç­æ¬¡åˆ—è¡¨
  - [ ] éå·¥ä½œæ—¥æ˜¾ç¤º"åœè¿"çŠ¶æ€

**éªŒè¯æ ‡å‡†**: 
- [ ] å·¥ä½œæ—¥æ˜¾ç¤ºç­æ¬¡å’Œå€’è®¡æ—¶
- [ ] å‘¨æœ«/èŠ‚å‡æ—¥æ˜¾ç¤ºåœè¿æç¤º
- [ ] ä¸‹ä¸€ç­æ—¶é—´è®¡ç®—å‡†ç¡®

---

### ä»»åŠ¡3: æ•°æ®åº“Schemaæ‰©å±•

**ä¼˜å…ˆçº§**: ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´**: 2å¤©  
**è´Ÿè´£äºº**: åç«¯å¼€å‘ + DBA

#### 3.1 åˆ›å»ºæ ¸å¿ƒä¸šåŠ¡è¡¨

- [ ] åˆ›å»ºè¿ç§»è„šæœ¬ `migrations/001_add_core_tables.sql`

```sql
-- 1. è½¦è¾†è¡¨
CREATE TABLE IF NOT EXISTS vehicles (
  vehicle_id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  plate_number text NOT NULL UNIQUE,
  engine_number text,
  capacity integer DEFAULT 45,
  status text CHECK (status IN ('ACTIVE', 'MAINTENANCE', 'RETIRED')) DEFAULT 'ACTIVE',
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

-- 2. å¸æœºè¡¨
CREATE TABLE IF NOT EXISTS drivers (
  driver_id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id uuid REFERENCES users(id),
  name text NOT NULL,
  phone text NOT NULL,
  license_number text,
  status text CHECK (status IN ('ACTIVE', 'INACTIVE')) DEFAULT 'ACTIVE',
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

-- 3. çº¿è·¯è¡¨
CREATE TABLE IF NOT EXISTS routes (
  route_id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  name text NOT NULL,
  description text,
  is_active boolean DEFAULT true,
  operating_days jsonb DEFAULT '{"type": "weekdays", "exceptions": []}'::jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

-- 4. çº¿è·¯ç«™ç‚¹å…³è”è¡¨
CREATE TABLE IF NOT EXISTS route_stops (
  route_id uuid REFERENCES routes(route_id) ON DELETE CASCADE,
  stop_id integer REFERENCES stops(id) ON DELETE CASCADE,
  sequence integer NOT NULL,
  PRIMARY KEY (route_id, stop_id)
);

-- 5. ç­æ¬¡è¡¨
CREATE TABLE IF NOT EXISTS schedules (
  schedule_id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  route_id uuid REFERENCES routes(route_id) ON DELETE CASCADE,
  vehicle_id uuid REFERENCES vehicles(vehicle_id),
  driver_id uuid REFERENCES drivers(driver_id),
  departure_time time NOT NULL,
  schedule_type text CHECK (schedule_type IN ('MORNING', 'EVENING')) NOT NULL,
  is_active boolean DEFAULT true,
  effective_from date,
  effective_until date,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_schedules_route ON schedules(route_id);
CREATE INDEX idx_schedules_time ON schedules(departure_time);

-- 6. è¡Œç¨‹è¡¨ï¼ˆå®é™…è¿è¡Œè®°å½•ï¼‰
CREATE TABLE IF NOT EXISTS trips (
  trip_id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  schedule_id uuid REFERENCES schedules(schedule_id),
  trip_date date NOT NULL,
  status text CHECK (status IN ('SCHEDULED', 'IN_PROGRESS', 'COMPLETED', 'CANCELLED')) DEFAULT 'SCHEDULED',
  actual_departure_time timestamptz,
  actual_arrival_time timestamptz,
  delay_minutes integer DEFAULT 0,
  cancellation_reason text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_trips_date ON trips(trip_date);
CREATE INDEX idx_trips_status ON trips(status);

-- 7. è¡Œç¨‹äº‹ä»¶è¡¨ï¼ˆå¼‚å¸¸è®°å½•ï¼‰
CREATE TABLE IF NOT EXISTS trip_events (
  event_id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  trip_id uuid REFERENCES trips(trip_id) ON DELETE CASCADE,
  event_type text CHECK (event_type IN ('DELAY', 'CANCELLATION', 'ROUTE_CHANGE', 'BREAKDOWN')) NOT NULL,
  description text,
  created_by uuid REFERENCES users(id),
  created_at timestamptz NOT NULL DEFAULT NOW()
);

-- 8. æ‰©å±•æ ¸é”€è®°å½•è¡¨
ALTER TABLE verification_logs 
ADD COLUMN IF NOT EXISTS trip_id uuid REFERENCES trips(trip_id),
ADD COLUMN IF NOT EXISTS stop_id integer REFERENCES stops(id),
ADD COLUMN IF NOT EXISTS verification_status text CHECK (verification_status IN ('SUCCESS', 'FAILED')) DEFAULT 'SUCCESS',
ADD COLUMN IF NOT EXISTS failure_reason text,
ADD COLUMN IF NOT EXISTS device_info jsonb;

CREATE INDEX IF NOT EXISTS idx_verification_logs_trip ON verification_logs(trip_id);
CREATE INDEX IF NOT EXISTS idx_verification_logs_status ON verification_logs(verification_status);
```

#### 3.2 åˆå§‹åŒ–åŸºç¡€æ•°æ®

- [ ] æ’å…¥å½“å‰è½¦è¾†æ•°æ®
  ```sql
  INSERT INTO vehicles (plate_number, engine_number, capacity, status)
  VALUES ('é—½D01982D', 'KLG157G:70012', 45, 'ACTIVE');
  ```

- [ ] æ’å…¥å¸æœºæ•°æ®
  ```sql
  INSERT INTO drivers (name, phone, status)
  VALUES ('å•åº†åˆš', '13959282886', 'ACTIVE');
  ```

- [ ] æ’å…¥çº¿è·¯æ•°æ®
  ```sql
  INSERT INTO routes (name, description, operating_days)
  VALUES (
    'ä¸¤å²¸é‡‘èä¸­å¿ƒç­è½¦æœåŠ¡',
    'ä¸¤å²¸é‡‘èä¸­å¿ƒåœ°é“ç«™ - ä¸‡ç§‘äº‘çºå¾€è¿”',
    '{"type": "weekdays", "exceptions": []}'::jsonb
  );
  ```

- [ ] æ’å…¥ç­æ¬¡æ•°æ®ï¼ˆæ—©ç­+æ™šç­ï¼‰
  ```sql
  -- å‡è®¾ route_id, vehicle_id, driver_id å·²çŸ¥
  INSERT INTO schedules (route_id, vehicle_id, driver_id, departure_time, schedule_type)
  VALUES 
    (route_id, vehicle_id, driver_id, '07:45', 'MORNING'),
    (route_id, vehicle_id, driver_id, '08:05', 'MORNING'),
    -- ... å…¶ä»–ç­æ¬¡
  ;
  ```

**éªŒè¯æ ‡å‡†**:
- [ ] æ‰€æœ‰è¡¨åˆ›å»ºæˆåŠŸ
- [ ] ç´¢å¼•åˆ›å»ºæˆåŠŸ
- [ ] åŸºç¡€æ•°æ®æ’å…¥æˆåŠŸ
- [ ] å¤–é”®å…³ç³»æ­£ç¡®

---

### ä»»åŠ¡4: åˆ›å»ºAPIç«¯ç‚¹

**ä¼˜å…ˆçº§**: ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´**: 2å¤©  
**è´Ÿè´£äºº**: åç«¯å¼€å‘

#### 4.1 ç­æ¬¡æŸ¥è¯¢API

- [ ] åˆ›å»º `api/schedules/index.ts`

```typescript
import { sendJson, sendMethodNotAllowed, sendInternalError } from '../_lib/http';
import { getSupabaseAdmin } from '../_lib/supabase';

export default async function handler(req: any, res: any) {
  if (req.method !== 'GET') return sendMethodNotAllowed(res, ['GET']);
  
  try {
    const { date, type } = req.query;
    const supabase = getSupabaseAdmin();
    
    let query = supabase
      .from('schedules')
      .select('*, routes(*), vehicles(*), drivers(*)')
      .eq('is_active', true)
      .order('departure_time');
    
    if (type) {
      query = query.eq('schedule_type', type.toUpperCase());
    }
    
    const { data, error } = await query;
    if (error) throw error;
    
    return sendJson(res, 200, { schedules: data || [] });
  } catch (error) {
    return sendInternalError(res, error instanceof Error ? error.message : undefined);
  }
}
```

#### 4.2 ä»Šæ—¥è¡Œç¨‹API

- [ ] åˆ›å»º `api/trips/today.ts`

```typescript
import { sendJson, sendMethodNotAllowed, sendInternalError } from '../_lib/http';
import { getSupabaseAdmin } from '../_lib/supabase';

export default async function handler(req: any, res: any) {
  if (req.method !== 'GET') return sendMethodNotAllowed(res, ['GET']);
  
  try {
    const today = new Date().toISOString().split('T')[0];
    const supabase = getSupabaseAdmin();
    
    const { data, error } = await supabase
      .from('trips')
      .select('*, schedules(*, routes(*), vehicles(*), drivers(*))')
      .eq('trip_date', today)
      .order('schedules.departure_time');
    
    if (error) throw error;
    
    return sendJson(res, 200, { trips: data || [] });
  } catch (error) {
    return sendInternalError(res, error instanceof Error ? error.message : undefined);
  }
}
```

#### 4.3 å®Œå–„æ ¸é”€API

- [ ] ä¿®æ”¹ `api/tickets/verify.ts`
  - [ ] æ·»åŠ trip_id, stop_idå‚æ•°
  - [ ] è®°å½•å¤±è´¥åŸå› 
  - [ ] è®°å½•è®¾å¤‡ä¿¡æ¯

```typescript
// åœ¨verify.tsä¸­æ·»åŠ 
interface VerifyRequest {
  ticketId: string;
  tripId?: string;
  stopId?: number;
  deviceInfo?: {
    userAgent: string;
    platform: string;
  };
}

// è®°å½•æˆåŠŸæ ¸é”€
const { error: insertLogError } = await supabase.from('verification_logs').insert({
  user_id: ticket.user_id,
  driver_id: user.id,
  shuttle_id: shuttleId,
  trip_id: body.tripId || null,
  stop_id: body.stopId || null,
  verification_status: 'SUCCESS',
  device_info: body.deviceInfo || null,
  verified_at: now
});

// è®°å½•å¤±è´¥æ ¸é”€
if (ticket.status !== 'VALID') {
  await supabase.from('verification_logs').insert({
    user_id: ticket.user_id,
    driver_id: user.id,
    verification_status: 'FAILED',
    failure_reason: ticket.status === 'USED' ? 'ALREADY_USED' : 'EXPIRED',
    device_info: body.deviceInfo || null,
    verified_at: now
  });
  return sendJson(res, 400, { valid: false, message: 'Ticket already used' });
}
```

**éªŒè¯æ ‡å‡†**:
- [ ] GET /api/schedules è¿”å›ç­æ¬¡åˆ—è¡¨
- [ ] GET /api/trips/today è¿”å›ä»Šæ—¥è¡Œç¨‹
- [ ] POST /api/tickets/verify è®°å½•å®Œæ•´æ ¸é”€ä¿¡æ¯

---

### ä»»åŠ¡5: å‰ç«¯è”è°ƒ

**ä¼˜å…ˆçº§**: ğŸ”´ Critical  
**é¢„è®¡æ—¶é—´**: 1å¤©  
**è´Ÿè´£äºº**: å‰ç«¯å¼€å‘

- [ ] ä¿®æ”¹PassengerViewä½¿ç”¨æ–°API
  - [ ] ä» /api/schedules è·å–ç­æ¬¡
  - [ ] ä½¿ç”¨getNextDepartureè®¡ç®—ä¸‹ä¸€ç­
  - [ ] æ˜¾ç¤ºå·¥ä½œæ—¥çŠ¶æ€

- [ ] ä¿®æ”¹DriverViewä½¿ç”¨æ–°API
  - [ ] ä» /api/trips/today è·å–ä»Šæ—¥ä»»åŠ¡
  - [ ] æ ¸é”€æ—¶ä¼ é€’trip_idå’Œstop_id

**éªŒè¯æ ‡å‡†**:
- [ ] ä¹˜å®¢ç«¯æ­£ç¡®æ˜¾ç¤ºç­æ¬¡
- [ ] å¸æœºç«¯æ­£ç¡®æ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨
- [ ] æ ¸é”€è®°å½•å®Œæ•´

---

## ğŸŸ¡ P1 ä¼˜å…ˆçº§ä»»åŠ¡ï¼ˆè¯•è¿è¡Œåå®Œæˆï¼‰

é¢„è®¡æ—¶é—´ï¼š3-4å‘¨  
ç›®æ ‡ï¼šå®Œå–„ä¸šåŠ¡æµç¨‹å’Œè¿è¥èƒ½åŠ›

### ä»»åŠ¡6: å¸æœºä»»åŠ¡æµ

- [ ] åˆ›å»º"å¼€å§‹è¡Œç¨‹" API (`POST /api/trips/:tripId/start`)
- [ ] åˆ›å»º"ç»“æŸè¡Œç¨‹" API (`POST /api/trips/:tripId/complete`)
- [ ] å¸æœºç«¯UIï¼šæ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨ï¼Œæ”¯æŒå¼€å§‹/ç»“æŸæ“ä½œ
- [ ] è®°å½•å®é™…å‘è½¦/åˆ°è¾¾æ—¶é—´

### ä»»åŠ¡7: å¼‚å¸¸å¤„ç†

- [ ] åˆ›å»º"æŠ¥å‘Šå»¶è¯¯" API
- [ ] åˆ›å»º"å–æ¶ˆç­æ¬¡" API
- [ ] ç®¡ç†ç«¯ï¼šå¼‚å¸¸äº‹ä»¶ç®¡ç†ç•Œé¢
- [ ] ä¹˜å®¢ç«¯ï¼šæ˜¾ç¤ºå¼‚å¸¸é€šçŸ¥

### ä»»åŠ¡8: ç®¡ç†ç«¯é…ç½®ç•Œé¢

- [ ] ç­æ¬¡ç®¡ç†ï¼šå¢åˆ æ”¹æŸ¥
- [ ] è½¦è¾†ç®¡ç†ï¼šå¢åˆ æ”¹æŸ¥
- [ ] å¸æœºç®¡ç†ï¼šå¢åˆ æ”¹æŸ¥
- [ ] æ ¸é”€è®°å½•å¯¼å‡ºï¼ˆCSVæ ¼å¼ï¼‰

### ä»»åŠ¡9: å®æ—¶æ€§ä¼˜åŒ–

- [ ] å®ç°æ™ºèƒ½è½®è¯¢ï¼ˆé¡µé¢ä¸å¯è§æ—¶æš‚åœï¼‰
- [ ] è€ƒè™‘WebSocketæˆ–SSEæ›¿ä»£è½®è¯¢
- [ ] æ·»åŠ ç½‘ç»œçŠ¶æ€æ£€æµ‹

---

## ğŸŸ¢ P2 ä¼˜å…ˆçº§ä»»åŠ¡ï¼ˆç”Ÿäº§ä¼˜åŒ–ï¼‰

é¢„è®¡æ—¶é—´ï¼š5-6å‘¨  
ç›®æ ‡ï¼šæå‡ç”¨æˆ·ä½“éªŒå’Œç³»ç»Ÿå¯é æ€§

### ä»»åŠ¡10: ç”¨æˆ·ä½“éªŒä¼˜åŒ–

- [ ] åˆ°ç«™æé†’ï¼ˆä¼ä¸šå¾®ä¿¡é€šçŸ¥ï¼‰
- [ ] å»¶è¯¯é€šçŸ¥
- [ ] PWAæ”¯æŒï¼ˆç¦»çº¿ç¼“å­˜ï¼‰
- [ ] å®šä½å¤±è´¥å…œåº•ï¼ˆæ‰‹åŠ¨é€‰ç«™ï¼‰

### ä»»åŠ¡11: ç›‘æ§å‘Šè­¦

- [ ] é›†æˆSentryé”™è¯¯è¿½è¸ª
- [ ] é…ç½®Vercel Analytics
- [ ] è‡ªå®šä¹‰ç›‘æ§Dashboard
- [ ] å…³é”®æŒ‡æ ‡å‘Šè­¦ï¼ˆæ ¸é”€æˆåŠŸç‡ã€APIå“åº”æ—¶é—´ï¼‰

### ä»»åŠ¡12: å¤šçº¿è·¯æ”¯æŒ

- [ ] æ•°æ®æ¨¡å‹å·²æ”¯æŒï¼Œå¼€å‘ç®¡ç†ç•Œé¢
- [ ] ä¹˜å®¢ç«¯æ”¯æŒé€‰æ‹©çº¿è·¯
- [ ] å¸æœºç«¯æ”¯æŒå¤šè½¦è¾†åˆ‡æ¢

---

## éªŒæ”¶æ ‡å‡†æ€»è§ˆ

### P0éªŒæ”¶ï¼ˆè¯•è¿è¡Œå‰ï¼‰

- [ ] å·¥ä½œæ—¥/éå·¥ä½œæ—¥æ­£ç¡®åˆ¤æ–­
- [ ] ç­æ¬¡ä»æ•°æ®åº“è¯»å–ï¼Œå¯é…ç½®
- [ ] ä¸‹ä¸€ç­æ—¶é—´æ˜¾ç¤ºå‡†ç¡®
- [ ] æ ¸é”€è®°å½•å®Œæ•´ï¼ˆå«trip_id, stop_id, å¤±è´¥åŸå› ï¼‰
- [ ] ç«™ç‚¹åç§°ç»Ÿä¸€
- [ ] æ‰€æœ‰P0ä»»åŠ¡å®Œæˆ

### P1éªŒæ”¶ï¼ˆæ­£å¼ä¸Šçº¿å‰ï¼‰

- [ ] å¸æœºå¯å¼€å§‹/ç»“æŸè¡Œç¨‹
- [ ] å¼‚å¸¸å¯æŠ¥å‘Šå¹¶é€šçŸ¥ä¹˜å®¢
- [ ] ç®¡ç†ç«¯å¯é…ç½®ç­æ¬¡/è½¦è¾†/å¸æœº
- [ ] æ ¸é”€è®°å½•å¯å¯¼å‡º
- [ ] æ‰€æœ‰P1ä»»åŠ¡å®Œæˆ

### P2éªŒæ”¶ï¼ˆä½“éªŒä¼˜åŒ–ï¼‰

- [ ] PWAå®‰è£…æç¤º
- [ ] ç›‘æ§ç³»ç»Ÿè¿è¡Œ
- [ ] ç”¨æˆ·åé¦ˆæœºåˆ¶å®Œå–„
- [ ] æ‰€æœ‰P2ä»»åŠ¡å®Œæˆ

---

## æ—¶é—´è§„åˆ’

```
Week 1:  ä»»åŠ¡1-2 (æ•°æ®ä¸€è‡´æ€§ + å·¥ä½œæ—¥é€»è¾‘)
Week 2:  ä»»åŠ¡3-4 (æ•°æ®åº“æ‰©å±• + APIå¼€å‘)
Week 3:  ä»»åŠ¡5 + å†…éƒ¨æµ‹è¯•
Week 4-5: ä»»åŠ¡6-7 (å¸æœºä»»åŠ¡æµ + å¼‚å¸¸å¤„ç†)
Week 6:  ä»»åŠ¡8 + å°èŒƒå›´è¯•è¿è¡Œ
Week 7-8: ä»»åŠ¡9-10 (ä¼˜åŒ– + ç”¨æˆ·åé¦ˆ)
Week 9:  ä»»åŠ¡11-12 + å…¨é¢ä¸Šçº¿
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2026-01-11  
**æ›´æ–°æ—¥æœŸ**: 2026-01-11
